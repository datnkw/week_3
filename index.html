<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" type="text/css" href="css/style.css">

  <link href='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css' rel='stylesheet' />


  <title>week 3</title>


</head>

<body>
  <div id="home">
    <div class="main-home">



      <div class="side-bar">
        <div id="btn-menu">
          <div class="menu-btn"></div>
          <div class="menu-btn"></div>
          <div class="menu-btn"></div>
        </div>

        <div class="side-slogan">
          <span><b>PAINT THE POWER</b> BLAZROBAR</span>
        </div>

        <div>
          <img src="img/down_arrow.png" />
        </div>
      </div>
      <div class="main-home">
        <div class="main-content">
          <div style="z-index: 2;">
            <div id="search-bar">
              <div>
                <input id="search-bar-main" type="text" oninput="change(this)">

                <button onclick="search()">Search</button>
              </div>
              <div id="answer-wrapper" class="hidden">
              </div>
            </div>

            <div id="paint-your-picture">
              <p>PAINT <br /><span>YOUR<br /></span> PICTURE</p>

            </div>
            <div class="humble-beginings">
              <p>Humble Beginings</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. </p>

              <img class="footer-home-img" src="img/three_dot.png">
            </div>

          </div>
        </div>

        <div id="mail-logo">
          <img src="img/home/mail.png" />
        </div>

        <div id="date-home">
          <img src="img/home/right-arrow.png" />
          <p>April 19th 2016</p>
        </div>


        <div class="circle-home">
          <span>your</span>
        </div>
      </div>
    </div>
  </div>

  <div id="second">
    <div id="slider-second" class="slider">
      <span class="title">PICTURES WORTH SEEING</span>

      <div class="wrapper">

        <div class="wrapper-items">
          <div class="item ">
            <div class="bg top-center">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 1</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg center-center">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 2</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg bottom-center">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 3</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <!-- <div class="item ">
            <div class="bg top-left">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 4</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg top-left">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 5</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg center-center">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 6</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg bottom-center">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 7</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div>

          <div class="item ">
            <div class="bg top-left">
              <img src="img/carousel_1/Color Overlay.png" />

              <img class="divider" src="img/carousel_1/Cutout.png" />
            </div>

            <div class="content">
              <p>DECAYED 8</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua.</p>
              <p>374 comments</p>
              <img src="img/carousel_1/Shape 7.png" />
            </div>
          </div> -->

        </div>

        <div class="navigate">
          <img src="img/carousel_1/Shape 13.png" />
        </div>
      </div>
    </div>
  </div>

  <section id="blur-background">
    <div id="third">

      <div class="main-home">
        <div class="side-bar">
          <div class="side-slogan">
            <span><b>PAINT THE POWER</b> BLAZROBAR</span>
          </div>

          <div>
            <img src="img/down_arrow.png" />
          </div>
        </div>
        <div class="main-home">
          <div class="main-content">

            <div class="humble-beginings">
              <p>Texture makes art</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
                dolore magna aliqua. </p>

              <img class="footer-home-img" src="img/three_dot.png">
            </div>
          </div>


          <div id="date-home">
            <img src="img/home/right-arrow.png" />
            <p>April 19th 2016</p>
          </div>


          <div class="center-title">
            <span>
              IT'S YOUR
            </span>
            <span>PASSION</span>

          </div>

          <div class="center-title circle">
            <span>only</span>
          </div>
        </div>
      </div>
    </div>

    <div id="forth">
      <div id="first-para">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore
          magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
          consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
          pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id
          est
          laborum.
        </p>
        <p>
          Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem
          aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
        </p>
      </div>
      <div id="second-para">
        <p>dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et
          dolore magnam aliquam quaerat voluptatem.</p>
      </div>


    </div>


    <div id="footer-slider-wrapper">
      <div id="footer-slider" class="slider">
        <span class="title">ARTICLES WORTH READING</span>

        <div class="wrapper">

          <div class="wrapper-items">
            <div class="item first">
              <div class="bg top-center">
                <img src="img/carousel_1/Color Overlay.png" />

                <img class="divider" src="img/carousel_1/Cutout.png" />
              </div>

              <div class="content">
                <p>DECAYED 1</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                  et
                  dolore magna aliqua.</p>
                <p>374 comments</p>
                <img src="img/carousel_1/Shape 7.png" />
              </div>
            </div>

            <div class="item second">
              <div class="bg center-center">
                <img src="img/carousel_1/Color Overlay.png" />

                <img class="divider" src="img/carousel_1/Cutout.png" />
              </div>

              <div class="content">
                <p>DECAYED 2</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                  et
                  dolore magna aliqua.</p>
                <p>374 comments</p>
                <img src="img/carousel_1/Shape 7.png" />
              </div>
            </div>

            <div class="item third">
              <div class="bg bottom-center">
                <img src="img/carousel_1/Color Overlay.png" />

                <img class="divider" src="img/carousel_1/Cutout.png" />
              </div>

              <div class="content">
                <p>DECAYED 3</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                  et
                  dolore magna aliqua.</p>
                <p>374 comments</p>
                <img src="img/carousel_1/Shape 7.png" />
              </div>
            </div>

          </div>

          <div class="navigate">
            <img src="img/carousel_1/Shape 13.png" />
          </div>
        </div>
      </div>
    </div>

  </section>


  <div id="FourPara">
    <div class="wrapper-para">
      <div class="para">
        <p>Start-Up Resources</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut</p>
      </div>
      <div class="para">
        <p>Training & Funding</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut</p>
      </div>
    </div>
    <div class="wrapper-para">
      <div class="para">
        <p>Connect</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut</p>
      </div>
      <div class="para">
        <p>Communicate</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut</p>
      </div>
    </div>
  </div>

  <div id="next-to-footer">
    <div class="content-inside">
      <p>TEXTURES BY</p>
      <p>Jordan Hetzer</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore.</p>
    </div>
  </div>

  <div id="banner">
    <div id="slider-size">
      <div>

      </div>
    </div>
    <div id="background-banner"></div>
      <button class="btn-banner" id="TriggerDraggable">Change position</button>
      <div id="confirmPosition">
        <button class="btn-banner" id="SaveBanner">Save</button>
        <button class="btn-banner" id="CancelBanner">Cancel</button>
      </div>
  </div>

  <div id="footer">
    <div class="wrapper-map">
      <div class="link-footer">
        <div id="about" class="combo-link">
          <p>ABOUT</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore </p>
        </div>

        <div id="history" class="combo-link">
          <p>HISTORY</p>
          <p>Resources <br /><br />
            Downloads & Updates<br /><br />
            Manuals<br /><br />
            Tech Specs <br /><br />
            System Status <br />
          </p>
        </div>

        <div id="contact" class="combo-link">
          <p>CONTACT</p>
          <p>Apple Store (Education Institutions) <br /><br />
            1300-551-927<br /><br />
            Apple Store (Small Business)<br /><br />
            1300-369-095 <br />
          </p>
        </div>
      </div>

      <div id='map' class="mapp"></div>
    </div>

    <p id="bottom">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore
      magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
      Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
    </p>
  </div>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script type="text/javascript" src="js/carousel.js"></script>
  <script type="text/javascript" src="js/reposition.js"></script>
  <script src="https://unpkg.com/@mapbox/mapbox-sdk/umd/mapbox-sdk.min.js"></script>

  <script src='https://api.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js'></script>
  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZGF0bmt3IiwiYSI6ImNrYXJ6a2ZxNzFjZ20ycHAxZnkwM3RmbGsifQ.M_0-ymf1ovaK8ocrX-BcOQ';

    var mapboxClient = mapboxSdk({
      accessToken: mapboxgl.accessToken
    });
    mapboxClient.geocoding
      .forwardGeocode({
        query: 'Ho Chi Minh City',
        autocomplete: false,
        limit: 1

      })
      .send()
      .then(function (response) {
        if (
          response &&
          response.body &&
          response.body.features &&
          response.body.features.length
        ) {
          var feature = response.body.features[0];

          console.log(feature)

          var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: feature.center,
            zoom: 8
          });

          // new mapboxgl.Marker().setLngLat(feature.center).addTo(map);

          var geojson = {
            type: 'FeatureCollection',
            features: [{
              'type': 'Feature',
              'properties': {
                // 'description': '<div style="color: #000"><strong>Ho Chi Minh City</strong><p>The hotest city in the world</p></div>',
                'img': 'img/tphcm.jpg',
                'description': '<strong >Ho Chi Minh City</strong><p>The hotest city in the world</p></div>',
                // 'icon': 'theatre'
              },
              'geometry': {
                'type': 'Point',
                'coordinates': feature.center
              }
            }]
          }

          geojson.features.forEach(function (marker) {

            // create a HTML element for each feature
            var el = document.createElement('div');
            el.className = 'marker';

            // make a marker for each feature and add to the map
            new mapboxgl.Marker(el)
              .setLngLat(marker.geometry.coordinates)
              .setPopup(new mapboxgl.Popup({
                  offset: 25
                }) // add popups
                .setHTML('<div class="pop-up"><img src="' + marker.properties.img + '"/><p>' + marker.properties
                  .description + '</p></div>'))
              .addTo(map);
          });



        }

      })

    function change(e) {
      let url = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + e.value +
        '.json?access_token=pk.eyJ1IjoiZGF0bmt3IiwiYSI6ImNrYXJ6a2ZxNzFjZ20ycHAxZnkwM3RmbGsifQ.M_0-ymf1ovaK8ocrX-BcOQ&country=vn'

      console.log(e.value)

      let answer = document.querySelector('#answer-wrapper')


      if (e.value == '')
        answer.className = "hidden"



      answer.innerHTML = ''
      axios.get(url).then(function (response) {
          console.log(response);


          for (let i = 0; i < response.data.features.length; i++) {
            answer.innerHTML += response.data.features[i].text + '\n'
          }


          if (response.data.features.length == 0)
            answer.className = "hidden"
          else
            answer.className = ""
        })
        .catch(function (error) {
          console.log(error);
        });
    }

    console.log(document.querySelector("#slider-second .wrapper-items"))



    const NavSecond = new Carousel({
      carouselContainer: document.querySelector("#slider-second .wrapper-items"),
      controler: document.querySelector("#slider-second .navigate"),
      arrayItems: document.querySelectorAll("#slider-second .item")
    })

    function test() {
      console.log("test nav")
    }

    const NavFooter = new Carousel({
      carouselContainer: document.querySelector("#footer-slider .wrapper-items"),
      controler: document.querySelector("#footer-slider .navigate"),
      arrayItems: document.querySelectorAll("#footer-slider .item")
    })

    const Banner = new RepositionBanner({
      Banner: document.querySelector("#banner"),
      Background: document.querySelector("#background-banner"),
      Trigger: document.querySelector("#TriggerDraggable"),
      SaveBtn: document.querySelector("#SaveBanner"),
      CancelBtn: document.querySelector("#CancelBanner"),
      slider: document.querySelector("#slider-size"),
      sliderPointer: document.querySelector("#slider-size div")
    })
  </script>
</body>

</html>